<!DOCTYPE html>
<html lang="af">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Veels Geluk Pappa!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lobster&family=Montserrat:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #0f172a; /* Dark premium background */
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        .vintage-font {
            font-family: 'Lobster', cursive;
        }

        #canvas-container {
            position: relative;
            width: 100%;
            height: 60vh; /* Taller for mobile immersion */
            background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%);
            overflow: hidden;
            border-bottom: 4px solid #fbbf24; /* Gold trim */
            transition: background 3s ease;
        }

        .sunset-mode {
            background: linear-gradient(to bottom, #fdc830 0%, #f37335 60%, #302b63 100%) !important;
        }

        .shake {
            animation: shake 0.6s cubic-bezier(.36,.07,.19,.97) both infinite;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .message-card {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .message-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Golden Glow Animation for the coupon */
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px #fbbf24, 0 0 20px #fbbf24; }
            50% { box-shadow: 0 0 20px #f59e0b, 0 0 30px #f59e0b; }
        }
        
        .golden-glow {
            animation: glow 3s infinite;
        }
    </style>
</head>
<body class="flex flex-col items-center min-h-screen">

    <!-- Main Canvas Area (No Header, Full Width) -->
    <div id="canvas-container" class="w-full relative shrink-0 shadow-2xl">
        <canvas id="gameCanvas"></canvas>
        
        <!-- Start Button Overlay -->
        <div id="start-overlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black/30 backdrop-blur-sm z-20 transition-opacity duration-700">
            <button id="start-btn" class="relative overflow-hidden bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-bold py-6 px-10 rounded-full text-2xl shadow-[0_0_25px_rgba(251,191,36,0.6)] active:scale-95 transition-all transform vintage-font border-4 border-white ring-4 ring-yellow-400/50">
                <span class="relative z-10">Start Enjin, Pa! ðŸ”‘</span>
                <div class="absolute inset-0 bg-white/20 translate-y-full hover:translate-y-0 transition-transform duration-300"></div>
            </button>
            <p class="text-white mt-6 font-bold text-lg text-shadow animate-pulse">Tik hier om die verrassing te sien</p>
        </div>
    </div>

    <!-- Message Section -->
    <div id="message-area" class="message-card w-full max-w-3xl mx-auto px-4 pb-12 -mt-10 relative z-30">
        <div class="bg-white/95 backdrop-blur-xl p-6 md:p-10 rounded-3xl shadow-2xl border border-white/50 relative overflow-hidden">
            
            <!-- Background decoration -->
            <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-yellow-400 rounded-full opacity-10 blur-3xl"></div>
            <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-blue-400 rounded-full opacity-10 blur-3xl"></div>

            <h2 class="vintage-font text-5xl md:text-6xl text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6 drop-shadow-sm">Veels Geluk Pappa!</h2>
            
            <div class="space-y-4 text-center">
                <p class="text-stone-700 text-lg leading-relaxed font-medium">
                    Pa, vandag vier ons nie net jou verjaarsdag nie, maar die <span class="text-amber-600 font-bold">legende</span> wat Pa is.
                </p>
                <p class="text-stone-600 text-base md:text-lg leading-relaxed">
                    Dankie vir elke myl wat ons saam gery het, elke les wat Pa geleer het, en vir die stil krag waarmee Pa ons gesin lei.
                    Net soos hierdie <strong class="text-blue-600">Split Window Beetle</strong>, is Pa 'n tydlose klassieke â€” onvervangbaar, vol karakter, en gebou om te hou.
                </p>
                <p class="text-stone-600 text-base md:text-lg leading-relaxed">
                    Mag Pa se enjin vir nog baie jare sterk loop, sonder enige 'oil leaks', en mag die pad vorentoe net gelyk wees.
                </p>
            </div>

            <div class="my-8 h-px bg-gradient-to-r from-transparent via-stone-300 to-transparent"></div>

            <!-- THE COUPON INTEGRATION -->
            <div class="text-center">
                <p class="text-amber-600 text-xs font-black tracking-[0.2em] uppercase mb-4">âœ¨ Pa se Amptelike Geskenk âœ¨</p>
                
                <div class="relative group perspective-1000 max-w-sm mx-auto cursor-pointer transform hover:scale-105 transition-all duration-300">
                    <!-- Gold glow effect -->
                    <div class="absolute -inset-2 bg-gradient-to-r from-yellow-300 via-amber-500 to-yellow-300 rounded-xl blur-md opacity-40 group-hover:opacity-75 transition duration-500 animate-pulse"></div>
                    
                    <!-- The Coupon Image -->
                    <img src="https://iili.io/fcMVIHP.png" 
                         alt="Verjaarsdag Koepon" 
                         class="relative w-full rounded-xl shadow-2xl border-4 border-white bg-white golden-glow">
                </div>
            </div>

            <div class="mt-8 text-center">
                <p class="text-stone-800 text-lg font-bold vintage-font">Baie liefde,</p>
                <p class="text-stone-500 text-sm font-semibold uppercase tracking-widest">Jou Seun</p>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('canvas-container');
        const startBtn = document.getElementById('start-btn');
        const startOverlay = document.getElementById('start-overlay');
        const messageArea = document.getElementById('message-area');

        function resize() {
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        let isRunning = false;
        let roadOffset = 0;
        let cloudOffset = 0;
        let engineShake = 0;
        let fireworks = [];

        // Colors
        const CAR_COLOR = '#89CFF0';
        const BUMPER_COLOR = '#E0E0E0';
        const WINDOW_COLOR = '#1a202c';

        function drawCloud(x, y, scale, alpha = 0.8) {
            ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
            ctx.beginPath();
            ctx.arc(x, y, 30 * scale, 0, Math.PI * 2);
            ctx.arc(x + 25 * scale, y - 10 * scale, 35 * scale, 0, Math.PI * 2);
            ctx.arc(x + 50 * scale, y, 30 * scale, 0, Math.PI * 2);
            ctx.fill();
        }

        // Firework Class
        class Firework {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.particles = [];
                for(let i=0; i<30; i++) {
                    this.particles.push({
                        x: 0,
                        y: 0,
                        vx: (Math.random() - 0.5) * 10,
                        vy: (Math.random() - 0.5) * 10,
                        life: 1.0
                    });
                }
            }
            update() {
                this.particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += 0.1; // gravity
                    p.life -= 0.02;
                });
                this.particles = this.particles.filter(p => p.life > 0);
            }
            draw(ctx) {
                ctx.save();
                ctx.translate(this.x, this.y);
                this.particles.forEach(p => {
                    ctx.globalAlpha = p.life;
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 3, 0, Math.PI*2);
                    ctx.fill();
                });
                ctx.restore();
            }
        }

        function drawBeetle(x, y) {
            ctx.save();
            ctx.translate(x + engineShake, y + engineShake);
            // Dynamic scaling for mobile
            const scale = canvas.width < 500 ? 0.8 : 1.3;
            ctx.scale(scale, scale);

            // Car drawing logic remains same (Optimized Beetle)
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            ctx.beginPath();
            ctx.ellipse(0, 75, 90, 20, 0, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = CAR_COLOR;
            ctx.beginPath();
            ctx.arc(0, 0, 80, Math.PI, 0); 
            ctx.bezierCurveTo(90, 0, 90, 80, 50, 80);
            ctx.lineTo(-50, 80);
            ctx.bezierCurveTo(-90, 80, -90, 0, -80, 0);
            ctx.fill();
            
            ctx.beginPath();
            ctx.moveTo(-75, 10);
            ctx.bezierCurveTo(-50, -90, 50, -90, 75, 10);
            ctx.fill();

            // Split Window
            ctx.fillStyle = WINDOW_COLOR;
            ctx.beginPath();
            ctx.moveTo(-5, -20);
            ctx.lineTo(-5, -50);
            ctx.bezierCurveTo(-35, -50, -45, -30, -40, -20);
            ctx.fill();
            ctx.beginPath();
            ctx.moveTo(5, -20);
            ctx.lineTo(5, -50);
            ctx.bezierCurveTo(35, -50, 45, -30, 40, -20);
            ctx.fill();
            ctx.fillStyle = CAR_COLOR;
            ctx.fillRect(-6, -55, 12, 40);

            // Details
            ctx.strokeStyle = '#5CA0C0';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(-40, 10);
            ctx.bezierCurveTo(-20, 30, 20, 30, 40, 10);
            ctx.stroke();

            // Lights
            ctx.fillStyle = '#CC0000';
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.beginPath(); ctx.ellipse(-65, 30, 6, 10, 0, 0, Math.PI * 2); ctx.fill(); ctx.stroke();
            ctx.beginPath(); ctx.ellipse(65, 30, 6, 10, 0, 0, Math.PI * 2); ctx.fill(); ctx.stroke();

            // Bumper
            ctx.fillStyle = BUMPER_COLOR;
            ctx.beginPath();
            ctx.roundRect(-85, 60, 170, 15, 10);
            ctx.fill();
            ctx.fillStyle = '#C0C0C0';
            ctx.fillRect(-50, 55, 10, 25);
            ctx.fillRect(40, 55, 10, 25);

            // Plate
            ctx.fillStyle = '#FFD700';
            ctx.fillRect(-35, 25, 70, 20);
            ctx.fillStyle = '#000';
            ctx.font = 'bold 14px monospace';
            ctx.textAlign = 'center';
            ctx.fillText('PAPPA', 0, 40);

            // Exhaust Smoke
            if (isRunning && Math.random() > 0.8) {
                createExhaust(-40, 80);
                createExhaust(40, 80);
            }

            ctx.restore();
        }

        let particles = [];
        function createExhaust(x, y) {
            particles.push({
                x: x, y: y, size: Math.random() * 5 + 2, alpha: 0.8, life: 30
            });
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Clouds
            cloudOffset -= 0.5;
            if (cloudOffset < -200) cloudOffset = canvas.width;
            drawCloud(100 + cloudOffset, 80, 1.2);
            drawCloud(500 + cloudOffset, 50, 0.8, 0.6);

            // Road with Perspective
            const roadY = canvas.height * 0.65;
            ctx.fillStyle = '#374151'; // Darker asphalt
            ctx.beginPath();
            ctx.moveTo(canvas.width/2 - 20, roadY);
            ctx.lineTo(canvas.width/2 + 20, roadY);
            ctx.lineTo(canvas.width, canvas.height);
            ctx.lineTo(0, canvas.height);
            ctx.fill();

            // Grass/Side
            ctx.fillStyle = isRunning ? '#15803d' : '#22c55e'; // Darkens when running (sunset)
            ctx.globalCompositeOperation = 'destination-over';
            ctx.fillRect(0, roadY, canvas.width, canvas.height - roadY);
            ctx.globalCompositeOperation = 'source-over';

            // Stripes
            if (isRunning) roadOffset += 15; // Faster!
            if (roadOffset > 100) roadOffset = 0;
            ctx.strokeStyle = '#fbbf24'; // Yellow lines
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.setLineDash([30, 30]);
            ctx.lineDashOffset = -roadOffset;
            ctx.moveTo(canvas.width/2, roadY + 20);
            ctx.lineTo(canvas.width/2, canvas.height);
            ctx.stroke();
            ctx.setLineDash([]);

            // Car
            const centerX = canvas.width / 2;
            const centerY = canvas.height * 0.85;
            
            if (isRunning) engineShake = (Math.random() - 0.5) * 3;

            // Exhaust Particles
            const scale = canvas.width < 500 ? 0.8 : 1.3;
            particles.forEach((p, index) => {
                p.y += 3; p.x += (Math.random() - 0.5) * 4;
                p.size *= 1.05; p.alpha -= 0.03; p.life--;
                if (p.life <= 0) { particles.splice(index, 1); return; }
                ctx.save(); ctx.translate(centerX, centerY); ctx.scale(scale, scale);
                ctx.fillStyle = `rgba(150, 150, 150, ${p.alpha})`;
                ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill(); ctx.restore();
            });

            drawBeetle(centerX, centerY);

            // Update & Draw Fireworks
            fireworks.forEach((fw, i) => {
                fw.update();
                fw.draw(ctx);
                if (fw.particles.length === 0) fireworks.splice(i, 1);
            });

            // Random Fireworks if running
            if (isRunning && Math.random() < 0.05) {
                const colors = ['#ff0', '#f0f', '#0ff', '#0f0'];
                fireworks.push(new Firework(
                    Math.random() * canvas.width, 
                    Math.random() * canvas.height * 0.6,
                    colors[Math.floor(Math.random() * colors.length)]
                ));
            }

            requestAnimationFrame(animate);
        }

        startBtn.addEventListener('click', () => {
            isRunning = true;
            
            // UI Transitions
            startOverlay.style.opacity = '0';
            setTimeout(() => startOverlay.style.display = 'none', 700);
            
            // Sunset Mode
            container.classList.add('sunset-mode');
            container.classList.add('shake');
            setTimeout(() => container.classList.remove('shake'), 600);

            // Message Reveal
            setTimeout(() => {
                messageArea.classList.add('message-visible');
                // Auto scroll for mobile
                messageArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 1000);

            // Initial Burst of Fireworks
            for(let i=0; i<5; i++) {
                setTimeout(() => {
                    const colors = ['#FFD700', '#FF0000', '#FFFFFF'];
                    fireworks.push(new Firework(
                        canvas.width/2 + (Math.random()-0.5)*200, 
                        canvas.height/2 - 100, 
                        colors[i%3]
                    ));
                }, i * 300);
            }
        });

        animate();
    </script>
</body>
</html>
